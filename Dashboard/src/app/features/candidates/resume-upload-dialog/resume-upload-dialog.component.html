<div class="upload-dialog">
  <div class="dialog-header">
    <h2 mat-dialog-title>Upload Candidate Resume</h2>
    <button mat-icon-button (click)="dialogRef.close()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  
  <mat-dialog-content>
    <!-- Browse File Button -->
    <div class="browse-section">
      <input type="file" 
             #fileInput 
             (change)="onFileSelected($event)"
             accept=".pdf,.doc,.docx"
             style="display: none">
      
      <button mat-flat-button color="primary" (click)="fileInput.click()" class="browse-btn">
        <mat-icon>attach_file</mat-icon>
        Browse Files
      </button>
      <p class="supported-formats">Supported formats: PDF, DOC, DOCX</p>
    </div>

    <!-- Drag and Drop Area -->
    <div class="upload-area" 
         (dragover)="onDragOver($event)"
         (dragleave)="onDragLeave($event)"
         (drop)="onDrop($event)"
         [class.dragging]="isDragging">
      
      <div class="upload-content">
        <mat-icon class="upload-icon">cloud_upload</mat-icon>
        <div class="upload-text">
          <p class="primary-text">Drag and drop your resume here</p>
        </div>
      </div>
    </div>

    <!-- Selected File Display -->
    <div *ngIf="selectedFile" class="selected-file">
      <mat-icon>description</mat-icon>
      <span>{{selectedFile.name}}</span>
      <button mat-icon-button color="warn" (click)="removeFile()">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <!-- Action Buttons -->
    <div class="dialog-actions">
      <button mat-stroked-button (click)="dialogRef.close()" [disabled]="isUploading">Cancel</button>
      <button mat-flat-button color="primary" 
              [disabled]="!selectedFile || isUploading" 
              (click)="uploadFile()">
        <mat-progress-spinner *ngIf="isUploading" diameter="20" mode="indeterminate"></mat-progress-spinner>
        <span *ngIf="!isUploading">Upload</span>
        <span *ngIf="isUploading">Uploading...</span>
      </button>
    </div>
  </mat-dialog-content>
</div>
