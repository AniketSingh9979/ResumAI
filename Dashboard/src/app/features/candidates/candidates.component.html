<div class="candidates-container">
  <div class="candidates-header">
    <h1>Candidates</h1>
    <button mat-raised-button color="primary" (click)="openUploadDialog()">
      <mat-icon>upload_file</mat-icon>
      Upload Resume
    </button>
  </div>

  <div class="upload-section">
    <mat-card class="upload-card">
      <mat-card-content>
        <div class="upload-placeholder" (click)="openUploadDialog()">
          <mat-icon>cloud_upload</mat-icon>
          <h2>Upload Resume</h2>
          <p>Click here to upload candidate resumes</p>
          <p class="supported-formats">Supported formats: PDF, DOC, DOCX</p>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Candidates Grid -->
  <div class="candidates-grid">
    <!-- Placeholder for when no resumes are uploaded -->
    <div class="no-candidates" *ngIf="candidates.length === 0">
      <mat-icon>person_search</mat-icon>
      <p>No candidates found. Upload resumes to get started.</p>
    </div>

    <!-- Candidate Cards -->
    <mat-card class="candidate-card" *ngFor="let candidate of candidates" (click)="openCandidateDetails(candidate)">
      <mat-card-header>
        <mat-icon mat-card-avatar>description</mat-icon>
        <mat-card-title>{{candidate.name}}</mat-card-title>
        <mat-card-subtitle>
          Uploaded: {{candidate.uploadDate | date:'short'}}
        </mat-card-subtitle>
      </mat-card-header>
      
      <mat-card-content>
        <div class="status-badge" [class]="candidate.status">
          {{candidate.status | titlecase}}
        </div>
        <div class="file-info">
          <mat-icon>attach_file</mat-icon>
          <span>{{candidate.resumeFile.name}}</span>
        </div>
        <!-- Show extracted info preview if available -->
        <div class="extracted-preview" *ngIf="candidate.extractedInfo">
          <div class="preview-item" *ngIf="candidate.extractedInfo.skills">
            <strong>Skills:</strong> {{candidate.extractedInfo.skills.slice(0, 3).join(', ')}}
          </div>
        </div>
      </mat-card-content>
      
      <mat-card-actions align="end">
        <button mat-button color="primary">
          <mat-icon>visibility</mat-icon>
          View
        </button>
        <button mat-button color="accent">
          <mat-icon>edit</mat-icon>
          Edit
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
